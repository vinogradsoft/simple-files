# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é

–ü–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é —Ñ–∞–π–ª–∞ –Ω–∞ –¥–∏—Å–∫ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª—É—à–∞—Ç–µ–ª—å
—Å–æ–±—ã—Ç–∏—è `Vinograd\SimpleFiles\Event\FileBeforeWriteListener`. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤
—Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.

> üì¢ `Vinograd\SimpleFiles\Event\FileBeforeWriteListener` - —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–∫—É—é –ª–æ–≥–∏–∫—É
> –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–æ –∑–∞–ø–∏—Å–∏ –µ–≥–æ –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É. –í —ç—Ç–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `beforeWrite` –∫–æ—Ç–æ—Ä—ã–π
> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å—è–∫–∏–π —Ä–∞–∑ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é —Ñ–∞–π–ª–∞.

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—à–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `addFileBeforeWriteListener` –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞
`Vinograd\SimpleFiles\File`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –í–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç,
–∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Vinograd\SimpleFiles\Event\FileBeforeWriteListener`.

–£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ä—è–¥–∫–æ–º –∑–∞–ø—É—Å–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ —Å–ø–æ—Å–æ–±–∞, –∫—Ä–æ–º–µ –∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –Ω—É–∂–Ω–æ–π
–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## –û–±–∑–æ—Ä –º–µ—Ç–æ–¥–∞ beforeWrite

–í –º–µ—Ç–æ–¥ `beforeWrite` –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞ —Ñ–∞–π–ª–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è. –í—Ç–æ—Ä—ã–º, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π, –∫–ª—é—á
–æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏. –û–Ω –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π: "WRITE", "WRITE_TO",
"COPY" –∏ "MOVE". –° –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –∫–ª—é—á–µ–π –º–æ–∂–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞.

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª—É—à–∞—Ç–µ–ª—è:

```php
<?php
require_once dirname(__DIR__, 1) . '/vendor/autoload.php';

use Vinograd\SimpleFiles\Event\FileBeforeWriteListener;
use Vinograd\SimpleFiles\File;

$file = File::createBinded('path/to/file.txt');
$file->read();
$file->addFileBeforeWriteListener(
    new class() implements FileBeforeWriteListener {
        public function beforeWrite(File $file, string $keyOperation): void
        {
            if ($keyOperation === File::WRITE_TO) {
                $file->setContent('modified ' . $file->getContent());
            }
        }
    }
);
$file->setLocalName('newFile.txt');
$file->writeTo('path/to/new/directory');
```

–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—Ä–∏–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Vinograd\SimpleFiles\Event\FileBeforeWriteListener`. –í –º–µ—Ç–æ–¥–µ `beforeWrite` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è
–∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `writeTo` –æ–±—ä–µ–∫—Ç–∞ `Vinograd\SimpleFiles\File`.

[–ö –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](../../README_ru_RU.md#—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)